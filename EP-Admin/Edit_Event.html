<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engagement Portal</title>
     <link type="text/css" href="../../../_catalogs/masterpage/AdminMaster/New_Admin/All_CSS/botstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.8.6/jquery.timepicker.css"> 
     <script type="text/javascript" src="https://amdocs.sharepoint.com/SiteAssets/Admin/Image_Calender/jquery-1.10.2.js"></script>   
	    <link rel="stylesheet" href="css/create_event.css">
    <link rel="stylesheet" href="../../_catalogs/masterpage/ENG_MasterPage/ENGAdmin/botstrap.css"> 

      <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
		<script type="text/javascript" src="https://amdocs.sharepoint.com/_layouts/15/sp.runtime.js"></script>
		<script type="text/javascript" src="https://amdocs.sharepoint.com/_layouts/15/sp.init.js"></script>
		<script type="text/javascript" src="https://amdocs.sharepoint.com/_layouts/15/sp.js"></script>
		<script type="text/javascript" src="https://amdocs.sharepoint.com/_layouts/15/sp.core.js"></script>		 
	<script type="text/javascript" src="js/Edit_Event.js"></script>
	 <script type="text/javascript" src="js/jquery.multifile.js"></script> 

	<style type="text/css">
	.ui-datepicker{
	width:auto !important;
}

.ui-timepicker-wrapper {
width: 17rem !important;
font-size: 10px !important;
}
	/* starts enabling-disabling button for validation */
	
	.btn-secondary {
    color: #000;
}
sup{
        color: #FF3D97;
    font-size: 21px;
    position: absolute;
    margin-left: 3px;
    top: 16px;
}
 
.EnableBtn{
	 background: linear-gradient(90deg , #DE8601 0%, #FF3D97 100%) !important;
    font-size: 11px;
    color:#fff !important;
    pointer-events:auto !important;
}
	/* ends enabling-disabling button for validation */

	.nocolor{
	background-color: transparent;
	}
	.lavendar{
		background-color: #E8B0FC !important;
		color: #0A0A0A !important;
	}
	.cream{
		background-color: #FFD08A !important;
		color: #0A0A0A !important;
	}
	.blue{
		background-color: #A4C6F9 !important;
		color: #0A0A0A !important;
	}
	.orange{
		background-color: #FF8A72 !important;
		color: #0A0A0A !important;
	}
	.green{
		background-color: #C8DB88 !important;
		color: #0A0A0A !important;
	}
	
	
	.imageData{
	display:flex;
}
    input[type=text]:focus,
        input[type=button]:focus,
         textarea:focus,
         select:focus {
  border: 1px solid #FF3D97 !important;
}

    input[type=text]:hover,
        input[type=button]:hover,
         textarea:hover,
         select:hover {
  border: 1px solid #FF3D97 !important;
}
	#imageID{
	    width: 37%;
    padding: 6px;
    border-radius: 15px;
}
.event-data .a-button{
	text-align:right;
}
.modal-header {
	background-color:black;
	border-top-left-radius: 12px;
	border-top-right-radius: 12px;
	color:white;
}
.modal-content{
	
	border:0;
	border-top-left-radius: 13px;
	border-top-right-radius: 13px;
	border-bottom-left-radius: 13px;
	border-bottom-right-radius: 13px;
	}
.modal-body{
	height: 200px;
    display: flex;
    flex-direction: column;
   }
   
.modal-footer{
	border-bottom-left-radius: 12px;
	border-bottom-right-radius: 12px;
}

#AutopublishEvent,#SaveForNow,.p-button{
	border: solid 1px transparent;
    background-image: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0)), linear-gradient(101deg, #DE8601, #FF3D97);
    background-origin: border-box;
    background-clip: content-box, border-box;
    box-shadow: 1px 1000px 1px black inset;
}
#AutopublishEvent:hover,#SaveForNow:hover,.p-button:hover{
	border: solid 1px transparent;
        box-shadow: 0px 0px black inset;
}
.p-button{
	    width: 13.5rem;
}
.event-data{
	    min-height: 450px;
}
.sidebar{
	height: auto;
    margin-bottom: 1rem;
}
.FA-1{
	        width: 92.5%;
	            margin-left: 3.5% !important;
}
.head-left{
	    margin-left: -1.5rem;
}
.ms-webpartzone-cell{
	    margin-bottom: 0px !important;
}
.home-section .hr1{
	width: 94.5%;
    margin-left: 2.2rem;
}
.event-data hr {
    width: 114%;
    margin-left: -40px;
}
@media(min-width:1120px){
	.FA-1 {
    width: 93.4%;
}
}
@media(min-width:1200px){
	.FA-1{
	    margin-left: 3.4% !important;
    width: 92.8%;
}
.event-data{
	    margin-left: 3.5rem !important;
	        width: 92.5%;
}
.head-left{
	    margin-left: -0.3rem;
}
.home-section .hr1{
   margin-left: 3.5rem;
    width: 92.5%;
    }
.event-data hr {
    width: 109.8%;
}
}
@media(min-width:1400px){
	.FA-1{
	    width: 92.7%;
}
.event-data hr {
    width: 107.5%;
}
}
@media (min-width: 1600px){
.event-data hr {
    width: 106.8%;
}
.FA-1 {
    width: 92.5%;
}
}
@media (min-width: 1900px){
.event-data {
    width: 93.2%;
}
.event-data hr {
    width: 105.6%;
}
}
#file_upload {
    position: absolute;
    left: 0;
    top: 0;
    visibility: visible;
    opacity: 0;
}

	</style>
</head>

<body style=" background:black;">
    <div class="head-section">
        <div class="event-head d-flex justify-content-between align-items-center">
            <div class="head-left">
               <a id="evback" href="#"> <span class="arrow"><i class="fa-solid fa-angle-left"></i></span>
                <h4>Edit Event</h4></a>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="../../SitePages/EPAdmin/AdminHome.aspx">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page"><a href="../../SitePages/EPAdmin/ManageEvent.aspx">Manage Event</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Edit Event</li>
                    </ol>
                </nav>
            </div>
            <div class="head-right d-none">
                <button class="btn">All Events</button>
            </div>
        </div>
        <div class="event-data">
            <div class="d-flex">
                <div class="a-button ms-auto">
                    <button type="button" class="w3-button btn border Save" data-bs-toggle="modal" data-bs-target="#saveEventBtn" id="SaveForNow" value="Draft" >Save for now</button>
                    <button data-bs-toggle="modal" class="btn p-button border-transparent EditAutopublishEvent" data-bs-target="#AutopublishModal" class="w3-button bg-transparent" id="AutopublishEvent" type="button" value="Autopublish">Edit Autopublish</button>
                    <button  type="button" class="btn p-button border-transparent UpdateEventPublish" data-bs-toggle="modal" data-bs-target="#publishModal" id="UpdateEvent" value="Published">Publish</button>

                </div>

            </div>
            <hr>
            <div class="event-form row single-day">
                <div class="form-data col-lg-4">
                    <label for="evTitle" class="d-block">Select Event Type <sup>*</sup></label>
                    <select id="EvType" class="evTypee">
                        <option value="1">select</option>
                        <option value="Online">Online</option>
                        <option value="Offline">Offline</option>
                    </select>
                </div>

                <div class="form-data col-lg-4">
                    <label for="evTitle" class="d-block">Enter Event title <sup>*</sup></label>
                    <input type="text" name="" title='Baner Title' autocomplete="off" id="evTitle" placeholder="Event title goes here ">
                </div>
                <div class="form-data col-lg-4">
                    <label for="evTitle" class="d-block">Select Pillar <sup>*</sup></label>
                    <select id="pillar" class="">
                        <option value="1" id="nocolor" selected="true">Select</option>
                        <option value="Enrich" id="blue">Enrich</option>
                        <option value="Wow and pride" id="orange">Wow and Pride</option>
						<option value="Work" id="lavendar">Work</option>
						<option value="Life" id="cream">Life</option>
						<option value="Connect and community" id="green">Connect and Community</option>

                    </select>
                </div>
                <div class="form-data col-lg-8">
                    <label for="evTitle" class="d-block">Event Description <sup>*</sup></label>
                    <textarea name="" title='EvDescription' autocomplete="off" id="evDesc" cols="30" rows="10" placeholder="Description goes here"></textarea>

                </div>
                <div class="form-data col-lg-4">
                    <label for="evTitle" class="d-block">Event Image <sup>*</sup></label>
                    <div class="imageData" id="attachFilesHolder">
                    	<img src="images/MicrosoftTeams-image%20(5)%20(2).png" alt="" id="imageID">
                        <input type="file" name="" class="custom-file-input SingleDayEventUpload" id="file_upload">
                        <label for="file_upload"><i class="fa-solid fa-arrow-up-from-bracket"></i>&nbsp; Upload File</label>
                    </div>
                </div>
                <div class="form-data col-lg-4" style="position: relative;">
                    <label for="evTitle" class="d-block EventDate">Event Date <sup>*</sup></label>
                    <input type="text" readonly="readonly" autocomplete="off" id="sEdate">
                    <i class="fa-solid fa-calendar-days calender"></i>
                </div>
                <div class="form-data col-lg-3 s-time" style="position: relative;">
                    <label for="evTitle" class="d-block">Start Time <sup>*</sup></label>
                    <input type="text" autocomplete="off" id="SSTime1" class="StartTime">
                    <i class="fa-solid fa-clock time"></i>
                </div>
                <div class="form-data col-lg-3 e-time" style="position: relative;">
                    <label for="evTitle" class="d-block">End Time <sup>*</sup></label>
                    <input type="text" autocomplete="off" id="SETime1" class="StartTime">
                    <i class="fa-solid fa-clock time"></i>
                </div>
                <div class="form-data col-lg-3 d-flex align-items-center">
                    <p id="duration" class="dur"></p>
			
                </div>
                <div class="form-data col-lg-3 LinkDiv">
                    <label for="evTitle"  class="d-block">Event Link <span class="opte">(Optional)</span> <sup class="evlinke">*</sup></label>
                    <input type="text" name="" autocomplete="off" id="evLink">
                </div>
                <div class="form-data col-lg-3 locationDiv">
                    <label for="evTitle" autocomplete="off" class="d-block">Event Location <sup>*</sup></label>
                    <input type="text" name="" class="location" id="evLocation" autocomplete="off">
                </div>
                <div class="form-data col-lg-3">
                    <label for="evTitle" class="d-block">Speaker Name (optional)</label>
                    <input type="text" name="" class="speakere" autocomplete="off" id="evSpeaker">
                </div>
                <div class="form-data col-lg-3">
                    <label for="evTitle" class="d-block">Organizer Name (optional)</label>
                    <input type="text" name="" class="organizere" autocomplete="off" id="evOrg">
                </div>

                <div class="form-data col-lg-12">
                    <label for="evTitle" class="d-block">Keywords (optional) upto 10</label>
                    <input type="text" name="" autocomplete="off" id="evKeyE" placeholder="#hastag" onkeyup="hashfunE();">
                </div>

            </div>
            
        </div>
        
        </div>  
                  
                <div class="modal fade" id="saveEventBtn" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="PublishEventBtnLabel" aria-hidden="true">
   <div class="modal-dialog  modal-dialog-centered justify-content-center" >
                      <div class="modal-content" style="border-radius: 15px;height: 250px;width: 360px;background:#FCF9EE;border:none">
                        <div class="modal-header" style="background: #191718;width: 100%;border-radius: 13px 13px 0px 0px;color: #E5E5E5;font-size: 12px;">
                            <span class="me-2"><img src=" images/20921262341608672870%20(1).svg" alt="img" style="width:25px;"></span><p class="modal-title" id="PublishEventBtnLabel" style="margin:0px;">Event Saved as draft  </p>
                          <button type="button" class="btn-close  btn-close-white  shadow-none" data-bs-dismiss="modal" aria-label="Close" style="margin-right: -25px;background-color: transparent;"></button>
                        </div>
                        <div class="modal-body" style="text-align: center;display: flex;padding: 25px;flex-direction: column;">
                        <span class="mx-auto"><img src="images/Icon%20feather-check-circle.svg" alt="Image can't found" style="width: 70%;margin-bottom: 15px"></span>
                        <span class="message" style="font-size: 15px;font-weight: 600;">You have saved an Event successfully</span>
                        </div>
                        <div class="modal-footer">
                           <button type="button" class="btn btn-primary okbtn shadow-none" id="okay" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal" style="width: 80px;margin: 4px;background: transparent linear-gradient(90deg, #DE8601 0%, #FF3D97 100%) 0% 0% no-repeat;box-shadow: none;border-radius: 5px;">Okay</button>
                        </div>
                      </div>
                    </div>
</div>
                  
       <!-- modal popup for publish button start-->
       
       <div class="modal fade" id="PublishEventBtn1" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="PublishEventBtn1" aria-hidden="true">
                    <div class="modal-dialog  modal-dialog-centered">
                      <div class="modal-content" style="border:none">
                        <div class="modal-header">
                            <span class="me-2"><img src="images/Images/icons8-schedule-64.png" alt="img" style="width:25px;"></span><p class="modal-title" id="PublishEventBtn1" style="margin:0px;">Event Published Successfully </p>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                        <span class="mx-auto"><img src="Images/success.png" alt="Image can't found"></span>
                        <span class="message">You have published an event successfully</span>
                        </div>
                        <div class="modal-footer">
                           <button type="button" class="btn btn-primary okbtn" id="okay" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal">Okay</button>
                        </div>
                      </div>
                    </div>
                  </div>  
            <!-- modal popup for publish button end-->
   
   <div class="modal fade" id="PublishEventBtn1" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="PublishEventBtn1Label" aria-hidden="true">
                    <div class="modal-dialog  modal-dialog-centered">
                      <div class="modal-content">
                        <div class="modal-header">
                            <span class="me-2"><img src="images/Images/icons8-schedule-64.png" alt="img" style="width:25px;"></span><p class="modal-title" id="PublishEventBtn1Label" style="margin:0px;">Event Published Successfully</p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                        <div class="modal-body">
                        <span class="mx-auto"><img src="Images/success.png" alt="img"></span>
                        <span class="message">You have published an event successfully</span>
                        </div>
                        <div class="modal-footer">
                         <button type="button" class="btn btn-primary okbtn" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal">Okay</button>
                        </div>
                      </div>
                    </div>
                  </div> 
                  
     <!-- modal popup for publish1 button end-->
     
         <!-- Modal popup for publish button start-->
    <div class="modal fade" id="publishModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
   <div class="modal-dialog  modal-dialog-centered justify-content-center" >
                      <div class="modal-content" style="border-radius: 15px;height: 250px;width: 360px;background:#FCF9EE;border:none">
                        <div class="modal-header" style="background: #191718;width: 100%;border-radius: 13px 13px 0px 0px;color: #E5E5E5;font-size: 12px;">
                            <span class="me-2"><img src=" images/20921262341608672870%20(1).svg" alt="img" style="width:25px;"></span><p class="modal-title" id="publishModal" style="margin:0px;">Event Published Successfully </p>
                          <!--  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>-->
                          <button type="button" class="btn-close  btn-close-white  shadow-none" data-bs-dismiss="modal" aria-label="Close" style="margin-right: -25px;background-color: transparent;"></button>
                        </div>
                        <div class="modal-body" style="text-align: center;display: flex;padding: 25px;flex-direction: column;">
                        <span class="mx-auto"><img src="images/Icon%20feather-check-circle.svg" alt="Image can't found" style="width: 70%;margin-bottom: 15px"></span>
                        <span class="message" style="font-size: 15px;font-weight: 600;">You have published an Event successfully</span>
                        </div>
                        <div class="modal-footer">
                           <button type="button" class="btn btn-primary okbtn shadow-none" id="okay1" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal" style="width: 80px;margin: 4px;background: transparent linear-gradient(90deg, #DE8601 0%, #FF3D97 100%) 0% 0% no-repeat;box-shadow: none;border-radius: 5px;border:none">Okay</button>
                        </div>
                      </div>
                    </div>
</div>
    
		<div class="modal fade" id="AutopublishModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered justify-content-center">
        <div class="modal-content" style="border-radius: 15px;height: 250px;width: 360px;background:#FCF9EE;border:none">
            <div class="modal-header"
                style="background: #191718;width: 100%;border-radius: 13px 13px 0px 0px;color: #E5E5E5;font-size: 12px;">
                <span class="me-2"><img
                        src=" images/20921262341608672870%20(1).svg"
                        alt="img" style="width:25px;"></span>
                <p class="modal-title" id="staticBackdropLabel" style="margin:0px;">Reschedule Auto Publish </p>
                <button type="button" class="btn-close  btn-close-white  shadow-none" data-bs-dismiss="modal"
                    aria-label="Close" style="margin-right: -25px;background-color: transparent;"></button>
            </div>
               <div class="modal-body" style="display: flex;flex-direction: row;">

                <div class="form-data" style="position: relative;width: 50%;margin-right: 5px;">
                    <label for="time" class="d-block"
                        style="color:#191718;margin-left: 5px;font-weight: 500;font-size: 9px;">Select Date</label>
                    <input type="date" name="" id="EventPublishDate" onchange="GetDate();" style="color: black;background: #FFFFFF;">
                </div>
                <div class="form-data" style="position: relative;width: 50%;margin-right: 0px;font-weight: 500">
                    <label for="time" class="d-block" style="color:#191718;margin-left: 5px;font-size: 9px;">Select
                        Time</label>
                    <input type="time" name="" id="EventPublishTime" onchange="GetDate();" style="color: black;background: #FFFFFF;">
                   </div>


            </div>
            <div style="text-align: center;position: relative;bottom: 50px;left: 0px;font-size: 9px;font-weight: 500;">
                <p>NOTE: This event will publish automatically on <span id="AutopublishEventDate"></span>, <span id="AutopublishEventTime"></span>.</p>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn" data-bs-dismiss="modal"
                    style="border-radius: 5px;border:none;background:none">Close</button>
                <button type="button" class="btn btn-primary publishevent " data-bs-dismiss="modal"
                    id="AutopublishEvent3" value="Autopublish"
                    style="background: transparent linear-gradient(90deg, #DE8601 0%, #FF3D97 100%) 0% 0% no-repeat;border-radius: 5px;border:none">Save
                    changes</button>
            </div>

        </div>
    </div>
</div>
   
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.8.6/jquery.timepicker.js"></script>

    <script>
        let arrow = document.querySelectorAll(".arrow");
        for (var i = 0; i < arrow.length; i++) {
            arrow[i].addEventListener("click", (e) => {
                let arrowParent = e.target.parentElement.parentElement;//selecting main parent of arrow
                arrowParent.classList.toggle("showMenu");
            });
        }
        let sidebar = document.querySelector(".sidebar");
        let sidebarBtn = document.querySelector(".sidebaropen");
        console.log(sidebarBtn);
        $(".sidebaropen").on("click", function () {
            $(".card").toggleClass("imagenone1");

        });
        $(function () {
            resizeScreen();
            $(window).resize(function () {
                resizeScreen();
            });
            $('.sidebaropen').click(function () {

                if (document.body.clientWidth > 400) {
                    $('.sidebar').toggleClass('close');
                } else {
                    $('.sidebar').toggleClass('small-screen');
                }
            });

            function resizeScreen() {
                if (document.body.clientWidth < 400) {
                    $('.sidebar').addClass('close');
                } else {
                    $('.sidebar').removeClass('close');
                }
            }
        });
        $(".sidebaropen").on("click", function () {
            $(".sidebar .nav-links li").toggleClass("colorClass")

        });


        $("#sdat").on("click",function(){
            // $(".single-day").addClass("d-flex");
            $(".single-day").removeClass("d-none");
            $(".accordion").addClass("d-none");
            $(".publishSingleDay").toggleClass("d-none");
            $(".publishSeriesEvent").toggleClass("d-none");

        })
        $("#sEdate").datepicker({
        dateFormat: 'dd M, yy',
        changeMonth: true,
        changeYear: true,
        minDate: "-0Y",
        maxDate: "+10Y",
        yearRange: "1900:2100"  
    });

    $( "#sEdate, #SuDate1, #SuDate2" ).datepicker( "setDate", new Date());
    $('#SSTime1,#SStime, #SuStime1').timepicker({});
    $('#SETime1,#SEtime, #SuEtime2').timepicker({});
    
	var a = document.getElementById('SETime1').value;
	console.log(a);
	
	$('#SETime1,#SSTime1').on("change", function() {
if($("input[id='SSTime1']").val() != '' && $("input[id='SETime1']").val() != '' ){
var EventStartTime = $("input[id='SSTime1']").val();
var EventEndTime = $("input[id='SETime1']").val();
console.log(EventStartTime,EventEndTime,"times");

function get24hTime(str){
    str = String(str).toLowerCase().replace(/\s/g, '');
    var has_am = str.indexOf('am') >= 0;
    var has_pm = str.indexOf('pm') >= 0;
    // first strip off the am/pm, leave it either hour or hour:minute
    str = str.replace('am', '').replace('pm', '');
    // if hour, convert to hour:00
    if (str.indexOf(':') < 0) str = str + ':00';
    // now it's hour:minute
    // we add am/pm back if striped out before 
    if (has_am) str += ' am';
    if (has_pm) str += ' pm';
    // now its either hour:minute, or hour:minute am/pm
    // put it in a date object, it will convert to 24 hours format for us 
    var d = new Date("1/1/2011 " + str);
    // make hours and minutes double digits
    var doubleDigits = function(n){
        return (parseInt(n) < 10) ? "0" + n : String(n);
    };
    return doubleDigits(d.getHours()) + ':' + doubleDigits(d.getMinutes());
}

myStart = get24hTime(EventStartTime);
myEnd = get24hTime(EventEndTime);
if (myStart > myEnd) {
alert("End time is less than Start time");
$("input[id='SETime1']").val('');


}

if(EventStartTime == EventEndTime){
alert("Start Time is equal to end time");
$("input[id='SETime1']").val('');
}


function getTimeDiff(start, end) {

  return moment.duration(moment(end, "HH:mm:ss a").diff(moment(start, "HH:mm:ss a")));
}

diff = getTimeDiff(myStart, myEnd)
var gap = (`${diff.hours()} hr: ${diff.minutes()} min`);
console.log(gap);
$(".dur").text(gap);
}
else{
$(".dur").text('-- : --');
}

});

    </script>
    <script>

        function menuToggle() {

            const toggleMenu = document.querySelector('.menu');

            toggleMenu.classList.toggle('active')

        }
        
                $("#file_upload").change(function(){
                    readURL(this);
                });
                
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        $('#imageID').attr('src', e.target.result);
                    }
                    reader.readAsDataURL(input.files[0]);
                }
            }
            
            $("#pillar").change(function(){
        	var color = $("option:selected", this).attr("id");
        	$("#pillar").attr("class", color);
    		});
	 
function GetDate(){
  		var	PublDate = $("#EventPublishDate").val();
	   	var publTime = $("#EventPublishTime").val();
	   	PublDate = moment(PublDate).format("DD MMM, YYYY")
	   	$("#AutopublishEventDate").html(PublDate);
	   	$("#AutopublishEventTime").html(publTime);	
  }

function hashfunE(){

			var keyword = document.getElementById("evKeyE").value;
			var hash = keyword.split('#').length-1;
			console.log(hash);

			if ( hash > 10 ) {
				$("#evKeyE").addClass("stop")
				var hubsselected =keyword;
            var lastIndex = hubsselected.lastIndexOf("#");
           hubsselected = hubsselected.substring(0, lastIndex);
            document.getElementById("evKeyE").value = hubsselected

	} else{

            }

        }

if (Etype == "select"){
$(".evlinke").removeAttr("style");
$(".opt").addClass("d-none");
}else{
$(".evlink").css({'display':'none'});
$(".opte").removeClass("d-none");

}


   $("select.evTypee").change(function(){
        Etype= $(this).children("option:selected").val();
if (Etype == "Online"){
//alert("Online");
$(".locationDiv").addClass("d-none");
$("#evLink").addClass("col-lg-4");
$(".speakere").addClass("col-lg-4");
$(".organizere").addClass("col-lg-4");
$(".evlinke").removeAttr("style");
$(".opte").addClass("d-none");
if($("#evLink").val() != ""){

}else{

$('.UpdateEventPublish').removeClass("EnableBtn");             
            $('.EditAutopublishEvent').removeClass("EnableBtn");
            $('#SaveForNow').removeClass("EnableBtn");  

}

 $("#eventtype,#evTitle,#evDesc,#Pillar,#sEdate,.StartTime").on("input",function(){    	
        canChangeColorEditEventOn();
    });


}else{
$(".locationDiv").removeClass("d-none");
$("#evLink").removeClass("col-lg-4");
$(".speakere").removeClass("col-lg-4");
$(".organizere").removeClass("col-lg-4");
$(".evlinke").css({'display':'none'});
$(".opte").removeClass("d-none");
if($("#evLocation").val() != ""){

}else{

$('.UpdateEventPublish').removeClass("EnableBtn");             
            $('.EditAutopublishEvent').removeClass("EnableBtn");
            $('#SaveForNow').removeClass("EnableBtn");  

}
}

 $("#eventtype,#evTitle,#evDesc,#Pillar,#evLocation,#sEdate,.StartTime").on("input",function(){    	
        canChangeColorEditEventOff();
    });
 
});



    function canChangeColorEditEventOff(){  
        var EventChange = true;  
        $("#eventtype,#evTitle,#evDesc,#Pillar,#evLocation,#sEdate,.StartTime").each(function(){
            if($(this).val()==''){
                EventChange = false;
            }
        });
        if(EventChange){
            $('.UpdateEventPublish').addClass("EnableBtn");  
            $('.EditAutopublishEvent').addClass("EnableBtn");   
            $('#SaveForNow').addClass("EnableBtn"); 
        }else{
            $('.UpdateEventPublish').removeClass("EnableBtn");             
            $('.EditAutopublishEvent').removeClass("EnableBtn");
            $('#SaveForNow').removeClass("EnableBtn");  
        }
     
    }



    function canChangeColorEditEventOn(){  
        var EventChange = true;  
        $("#eventtype,#evTitle,#evDesc,#Pillar,#sEdate,.StartTime").each(function(){
            if($(this).val()==''){
                EventChange = false;
            }
        });
        if(EventChange){
            $('.UpdateEventPublish').addClass("EnableBtn");  
            $('.EditAutopublishEvent').addClass("EnableBtn");   
            $('#SaveForNow').addClass("EnableBtn"); 
        }else{
            $('.UpdateEventPublish').removeClass("EnableBtn");             
            $('.EditAutopublishEvent').removeClass("EnableBtn");
            $('#SaveForNow').removeClass("EnableBtn");  
        }
     
    }



/*if (Etype == "select"){
$(".evlinke").removeAttr("style");
$(".opt").addClass("d-none");
}else{
$(".evlink").css({'display':'none'});
$(".opte").removeClass("d-none");

}*/


	
    /*$("#sEdate").on("change",function () {    	
        canChangeColorEditEvent();
    });
    function  canChangeColorEditEvent(){  
        var EventChange = true;  
        $("#sEdate").each(function(){
            if($(this).val()==''){
                EventChange = false;
            }
        });
        if(EventChange){
            $('.UpdateEventPublish').addClass("EnableBtn");  
            $('.EditAutopublishEvent').addClass("EnableBtn");   
            $('#SaveForNow').addClass("EnableBtn"); 
        }else{
            $('.UpdateEventPublish').removeClass("EnableBtn");             
            $('.EditAutopublishEvent').removeClass("EnableBtn");
            $('#SaveForNow').removeClass("EnableBtn");  
        }
     
    }*/
    
 
    function canChangeColorEditEvent(){  
        var EventChange = true;  
        $("#eventtype,#evTitle,#evDesc,#Pillar,#evKey,#evLink,#sEdate,.StartTime").each(function(){
            if($(this).val()==''){
                EventChange = false;
            }
        });
        if(EventChange){
            $('.UpdateEventPublish').addClass("EnableBtn");  
            $('.EditAutopublishEvent').addClass("EnableBtn");   
            $('#SaveForNow').addClass("EnableBtn"); 
        }else{
            $('.UpdateEventPublish').removeClass("EnableBtn");             
            $('.EditAutopublishEvent').removeClass("EnableBtn");
            $('#SaveForNow').removeClass("EnableBtn");  
        }
     
    }
 
 $("#s4-workspace").scroll(function(){
    $("#ui-datepicker-div").hide();
})






    </script>
    

</body>

</html>